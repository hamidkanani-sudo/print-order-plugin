@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .table-container {
        @apply overflow-x-auto;
    }

    .print-order-table {
        @apply w-full table-auto;
    }

    .print-order-table thead {
        @apply bg-[var(--wp-admin-theme-color-darker)] text-gray-900 rounded-tl-lg rounded-tr-lg;
    }

    .sticky-header {
        @apply sticky top-0 z-10 bg-[var(--wp-admin-theme-color-darker)] text-gray-900 rounded-tl-lg rounded-tr-lg will-change-transform;
    }

    .print-order-table th {
        @apply px-2 py-3 text-center text-gray-900 font-semibold cursor-pointer hover:bg-gray-200 transition-colors;
    }

    .print-order-table th.sorted-asc::after {
        content: ' ↑';
        @apply text-gray-900;
    }

    .print-order-table th.sorted-desc::after {
        content: ' ↓';
        @apply text-gray-900;
    }

    .print-order-table tbody tr {
        @apply bg-white border-b border-gray-200 will-change-transform;
    }

    .print-order-table td {
        @apply px-2 py-3;
    }

    .print-order-table th:nth-child(1),
    .print-order-table td:nth-child(1) {
        @apply min-w-[200px];
    }

    .print-order-table th:nth-child(2),
    .print-order-table td:nth-child(2) {
        @apply min-w-[120px];
    }

    .print-order-table th:nth-child(3),
    .print-order-table td:nth-child(3) {
        @apply min-w-[80px];
    }

    .print-order-table th:nth-child(4),
    .print-order-table td:nth-child(4) {
        @apply min-w-[100px];
    }

    .print-order-table th:nth-child(5),
    .print-order-table td:nth-child(5) {
        @apply min-w-[60px];
    }

    .print-order-table th:nth-child(6),
    .print-order-table td:nth-child(6) {
        @apply min-w-[80px];
    }

    .print-order-table th:nth-child(7),
    .print-order-table td:nth-child(7) {
        @apply min-w-[80px];
    }

    .print-order-table th:nth-child(8),
    .print-order-table td:nth-child(8) {
        @apply min-w-[60px];
    }

    .print-order-table th:nth-child(9),
    .print-order-table td:nth-child(9) {
        @apply min-w-[80px];
    }

    .print-order-table input,
    .print-order-table select {
        @apply w-full border p-2 rounded-lg border-gray-300 focus:ring-2 focus:ring-blue-500 will-change-transform;
    }

    .print-order-table input.price-input {
        @apply text-right;
    }

    .actions {
        @apply flex gap-2;
    }

    .duplicate-row {
        @apply flex w-10 h-10 items-center justify-center bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200 hover:scale-105 cursor-pointer border-none;
    }

    .remove-row {
        @apply flex w-10 h-10 items-center justify-center bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 hover:scale-105 cursor-pointer border-none;
    }

    .btn-primary {
        @apply inline-flex px-6 py-3 bg-blue-600 text-white rounded-lg text-sm font-medium shadow-sm hover:bg-blue-700 transition-all duration-200 cursor-pointer !important;
    }

    .btn-secondary {
        @apply inline-flex px-4 py-1.5 bg-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-400 transition-all duration-200 !important;
    }

    .orders-card {
        @apply bg-white rounded-xl shadow-md p-6 w-full;
    }

    .pagination-container {
        @apply mt-6 flex justify-center;
    }

    .pagination-container a,
    .pagination-container span {
        @apply mx-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200;
    }

    .pagination-container a {
        @apply bg-gray-100 text-gray-700 hover:bg-blue-600 hover:text-white;
    }

    .pagination-container span.current {
        @apply bg-blue-600 text-white;
    }

    .tabs .tab-link {
        @apply px-4 py-2 cursor-pointer text-gray-700 font-medium;
    }

    .tabs .tab-link.active {
        @apply border-b-2 border-blue-600 text-blue-600;
    }

    .tab-content {
        @apply mt-4;
    }

    .tab-content.hidden {
        display: none;
    }

    .separator {
        @apply my-4 border-t border-gray-300;
    }

    /* استایل‌های جدید برای تب تأیید طرح */
    .chat-container {
        @apply max-h-96 overflow-y-auto border border-gray-300 rounded-lg p-4 bg-gray-50 mb-4;
    }

    .chat-message {
        @apply mb-4 p-3 rounded-lg max-w-[80%] break-words;
    }

    .chat-message.admin {
        @apply bg-blue-100 text-blue-900 ml-auto;
    }

    .chat-message.user {
        @apply bg-gray-200 text-gray-900 mr-auto;
    }

    .chat-message.initial {
        @apply bg-green-100 text-green-900;
    }

    .chat-message.system {
        @apply bg-yellow-100 text-yellow-900 text-center italic;
    }

    .chat-message span {
        @apply block text-sm;
    }

    .chat-time {
        @apply text-xs text-gray-500 mt-1;
    }

    .chat-thumbnail {
        @apply w-32 h-32 object-cover rounded-lg mt-2;
    }

    .chat-download {
        @apply inline-block mt-2 text-blue-600 hover:underline text-sm;
    }

    .revision-form {
        @apply mt-4;
    }

    .revision-form label {
        @apply block text-gray-700 font-medium mb-2;
    }

    .revision-form input[type="file"] {
        @apply border p-2 rounded-lg w-full mb-2 text-sm text-gray-700;
    }

    .revision-form textarea {
        @apply w-full rounded-lg border-gray-300 p-2 text-sm focus:ring-2 focus:ring-blue-500;
    }

    .unread-count {
        @apply bg-red-600 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs ml-2;
    }

    .btn-primary.upload-design-btn {
        @apply mt-2;
    }
}

@layer utilities {
    /* حذف تعریف w-1/9 با درصد */
}

@media (max-width: 640px) {
    .print-order-table {
        @apply block;
    }

    .print-order-table thead {
        @apply hidden;
    }

    .print-order-table tbody,
    .print-order-table tr {
        @apply block;
    }

    .print-order-table tr {
        @apply mb-4 border border-gray-200 rounded-lg p-4 bg-white;
    }

    .print-order-table td {
        @apply block w-full px-1 py-2 text-right flex items-center;
    }

    .print-order-table td:before {
        content: attr(data-label);
        @apply block text-sm font-medium text-gray-600 mb-1;
    }

    .print-order-table tr {
        @apply grid grid-cols-2 gap-2;
    }

    .print-order-table td:nth-child(9) {
        @apply col-span-2 flex justify-end gap-2 mt-2;
    }

    .print-order-table input,
    .print-order-table select {
        @apply w-full max-w-[150px] flex-1;
    }

    /* استایل‌های responsive برای تب تأیید طرح */
    .chat-container {
        @apply max-h-80;
    }

    .chat-message {
        @apply max-w-full;
    }

    .chat-thumbnail {
        @apply w-24 h-24;
    }
}